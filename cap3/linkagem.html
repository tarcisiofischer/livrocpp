<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Linkagem</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introducao.html"><strong aria-hidden="true">1.</strong> Introdução</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cap1/ola_mundo.html"><strong aria-hidden="true">1.1.</strong> Olá mundo!</a></li></ol></li><li class="chapter-item expanded "><a href="../cap2/introducao.html"><strong aria-hidden="true">2.</strong> Conceitos básicos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cap2/variaveis.html"><strong aria-hidden="true">2.1.</strong> Variáveis</a></li><li class="chapter-item expanded "><a href="../cap2/instrucoes.html"><strong aria-hidden="true">2.2.</strong> Instruções</a></li><li class="chapter-item expanded "><a href="../cap2/estruturas_de_controle.html"><strong aria-hidden="true">2.3.</strong> Estruturas de controle</a></li><li class="chapter-item expanded "><a href="../cap2/funcoes.html"><strong aria-hidden="true">2.4.</strong> Funções</a></li><li class="chapter-item expanded "><a href="../cap2/structs.html"><strong aria-hidden="true">2.5.</strong> Tipos definidos pelo usuário</a></li><li class="chapter-item expanded "><a href="../cap2/referencias.html"><strong aria-hidden="true">2.6.</strong> Referências</a></li><li class="chapter-item expanded "><a href="../cap2/ponteiros.html"><strong aria-hidden="true">2.7.</strong> Ponteiros e smart pointers</a></li><li class="chapter-item expanded "><a href="../cap2/const.html"><strong aria-hidden="true">2.8.</strong> Const, constexpr e consteval</a></li><li class="chapter-item expanded "><a href="../cap2/namespaces.html"><strong aria-hidden="true">2.9.</strong> Namespaces</a></li></ol></li><li class="chapter-item expanded "><a href="../cap3/introducao.html"><strong aria-hidden="true">3.</strong> Visão geral sobre o processo de compilação</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cap3/preprocessamento.html"><strong aria-hidden="true">3.1.</strong> Preprocessamento</a></li><li class="chapter-item expanded "><a href="../cap3/compilacao.html"><strong aria-hidden="true">3.2.</strong> Compilação</a></li><li class="chapter-item expanded "><a href="../cap3/linkagem.html" class="active"><strong aria-hidden="true">3.3.</strong> Linkagem</a></li><li class="chapter-item expanded "><a href="../cap3/pacotes.html"><strong aria-hidden="true">3.4.</strong> Gerenciamento de pacotes</a></li></ol></li><li class="chapter-item expanded "><a href="../cap4/introducao.html"><strong aria-hidden="true">4.</strong> Introdução à biblioteca padrão do C++</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cap4/string.html"><strong aria-hidden="true">4.1.</strong> String</a></li><li class="chapter-item expanded "><a href="../cap4/io.html"><strong aria-hidden="true">4.2.</strong> I/O (Entrada e saída)</a></li><li class="chapter-item expanded "><a href="../cap4/array.html"><strong aria-hidden="true">4.3.</strong> Array</a></li><li class="chapter-item expanded "><a href="../cap4/vector.html"><strong aria-hidden="true">4.4.</strong> Vector</a></li><li class="chapter-item expanded "><a href="../cap4/map.html"><strong aria-hidden="true">4.5.</strong> Map</a></li><li class="chapter-item expanded "><a href="../cap4/set.html"><strong aria-hidden="true">4.6.</strong> Set</a></li><li class="chapter-item expanded "><a href="../cap4/functions.html"><strong aria-hidden="true">4.7.</strong> Function e lambdas</a></li><li class="chapter-item expanded "><a href="../cap4/algoritmos.html"><strong aria-hidden="true">4.8.</strong> Algoritmos</a></li></ol></li><li class="chapter-item expanded "><a href="../cap5/introducao.html"><strong aria-hidden="true">5.</strong> Programação orientada a objetos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cap5/classes_e_objetos.html"><strong aria-hidden="true">5.1.</strong> Classes e objetos</a></li><li class="chapter-item expanded "><a href="../cap5/heranca_e_polimorfismo.html"><strong aria-hidden="true">5.2.</strong> Herança e polimorfismo</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.3.</strong> Composição vs herança</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.4.</strong> Tratamento de erros e exceções</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.5.</strong> Sobrecarga de operadores</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.6.</strong> Gerenciamento de recursos e RAII</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Bibliotecas de terceiros</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> Interface gráfica desktop com Qt</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> Teste automatizado de software com Catch2</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.3.</strong> Visualização 2D com SDL</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.4.</strong> Visualização 3D com OpenGL</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Metaprogramação e templates</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> Templates</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.2.</strong> Metaprogramação estática</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.3.</strong> CRTP</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.4.</strong> SFINAE</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.5.</strong> PIMPL</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Algoritmos e estruturas de dados</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> Busca</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.2.</strong> Recursão</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.3.</strong> Grafos</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Programação paralela e concorrente</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">9.1.</strong> Threads</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.</strong> Async</div></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="linkagem"><a class="header" href="#linkagem">Linkagem</a></h1>
<p>O processo final de geração do executável é a linkagem (não é um verbo real).
Neste passo, os <em>códigos objeto</em> de todas as <em>unidades de tradução</em> envolvidas no programa são unidos em um só.
Um arquivo executável pode ser obtido com o seguinte comando:</p>
<p><code>g++ f.o g.o main.o</code></p>
<p>É importante ter em mente essas etapas do processo de compilação.
Erros de compilação (sintaxe e pré-processamento) acontecerão mesmo quando você tentar compilar cada arquivo isoladamente.
Erros de linkagem (<code>undefined reference</code>, por exemplo) acontecerão apenas quando você tentar linkar os arquivos
para gerar um executável.</p>
<p>A linkagem comentada nessa seção é conhecida como <em>linkagem estática</em>. O código executável gerado contém todas as funções
necessárias para executa-lo, como ilustrado na imagem abaixo. Nota importante: também é usual utilizar arquivos <code>.a</code> (&quot;Archive&quot;)
no processo de linkagem estática no Linux. Arquivos <code>.a</code> são apenas uma coleção de vários arquivos <code>.o</code>. Para gerar
arquivos <code>.a</code>, é possível utilizar o executável <code>ar</code>.</p>
<p><img src="./images/linkagem_estatica.png" alt="Linkagem estática" /></p>
<p>De forma alternativa, é possível organizar um projeto de software com funções separadas em
diversos arquivos executáveis. Esses arquivos, ao invés de serem linkados estáticamente, são <em>linkados dinamicamente</em>, o
que significa que as funções ficam espalhadas em diferentes arquivos, e buscadas pelo software em tempo de execução, ao
invés de serem buscadas em tempo de compilação, como no caso da <em>linkagem estática</em>.</p>
<p>No Linux, esses arquivos possuem extensão <code>.so</code> (&quot;Shared Objects&quot;), enquanto no Windows possuem extensão <code>.dll</code>
(Dynamic Linked Library). O processo de geração, linkagem e carregamento de arquivos com linkagem dinâmica é diferente
no linux e no Windows.</p>
<p>A ilustração abaixo traz uma visão geral do processo de consumo da função <code>function_c</code> a partir de uma linkagem
dinâmica. Nesse caso, não está sendo mostrado como o arquivo <code>arquivo2.so</code> foi gerado. No caso do Windows, o arquivo
<code>arquivo2.so</code> se chamaria <code>arquivo2.dll</code>.</p>
<p><img src="./images/linkagem_dinamica.png" alt="Linkagem estática" /></p>
<p>As vantagens de utilizar uma biblioteca de linkagem estática incluem:</p>
<ul>
<li>Como todo o código está num só arquivo, atualizações de outras dependências não afetam (portanto, não quebram) o executável;</li>
<li>Facilidade de instalação e compartilhamento do programa.</li>
</ul>
<p>Enquanto algumas desvantagens são:</p>
<ul>
<li>O arquivo executável tende a ficar cada vez maior, pois precisa conter todas as funções em um só arquivo;</li>
<li>Para atualizar um subconjunto de funções é necessário atualizar o arquivo executável inteiro.</li>
</ul>
<p>Por outro lado, algumas vantagens da linkagem dinâmica incluem:</p>
<ul>
<li>Como o código está distribuído em diversos arquivos, atualizar um subconjunto de funções significa atualizar apenas alguns arquivos, ao invés de necessitar atualizar o código inteiro;</li>
<li>As funções mais comuns podem ser aproveitadas e utilizadas em mais de um arquivo executável;</li>
<li>Funções não utilizadas não precisam ser carregadas para a memória.</li>
</ul>
<p>Finalmente, algumas desvantagens incluem:</p>
<ul>
<li>No caso de uso excessivo de bibliotecas dinâmicas, pode ser difícil de gerenciar as dependências;</li>
<li>No caso de uma ou mais bibliotecas dinâmicas não estarem disponíveis, isso pode impossibilitar o uso de um executável.</li>
</ul>
<p>Existem duas formas de consumir uma biblioteca dinâmica: Por meio de linkagem dinâmica em tempo de compilação
(<em>Dynamic Linking</em>) ou por meio de carregamento dinâmico em tempo de execução (<em>Dynamic Loading</em>). Os dois conceitos
podem ser inicialmente confusos, principalmente porque o primeiro deles possa ser confundido com o caso de linkagem
estática, mas essas formas são diferentes.</p>
<p><em>Dynamic Linking</em> faz uso de um procedimento provido pelo sistema operacional. Ao executar um programa que foi compilado
dessa forma, as bibliotecas dependentes são automaticamente carregadas no início da execução do programa. Ou seja, a
linkagem é feita em tempo de execução, mas é feita automaticamente.</p>
<p>Por outro lado <em>Dynamic Loading</em> significa que o programador do executável utiliza funções auxiliares para carregar
dinâmicamente cada biblioteca que queira. Por exemplo, no Linux, é possível utilizar a função <code>dlopen</code> para carregar
um arquivo <code>.so</code>. Ou seja, a linkagem é feita em tempo de execução, mas é feita manualmente.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../cap3/compilacao.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../cap3/pacotes.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../cap3/compilacao.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../cap3/pacotes.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
